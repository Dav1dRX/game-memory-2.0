{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David Maguire\\\\gaming\\\\src\\\\context\\\\GameContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from 'react';\nimport { generateCards } from '../utils/gameUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  gameState: 'idle',\n  gameMode: 'single',\n  players: {\n    1: {\n      id: 1,\n      name: 'Player 1',\n      score: 0,\n      matches: 0\n    },\n    2: {\n      id: 2,\n      name: 'Player 2',\n      score: 0,\n      matches: 0\n    }\n  },\n  currentPlayer: 1,\n  cards: [],\n  selectedCards: [],\n  timer: 0,\n  turnTime: 30,\n  // 30 segundos por turno\n  highScores: []\n};\nexport const GameContext = /*#__PURE__*/createContext();\nconst gameReducer = (state, action) => {\n  switch (action.type) {\n    case 'START_GAME':\n      return {\n        ...state,\n        gameState: 'playing',\n        gameMode: action.payload.mode,\n        cards: generateCards(),\n        timer: 0,\n        selectedCards: []\n      };\n    case 'SELECT_CARD':\n      if (state.selectedCards.length >= 2) return state;\n      return {\n        ...state,\n        selectedCards: [...state.selectedCards, action.payload]\n      };\n    case 'CHECK_MATCH':\n      const [first, second] = state.selectedCards;\n      const isMatch = first.value === second.value;\n      return {\n        ...state,\n        cards: state.cards.map(card => isMatch && (card.id === first.id || card.id === second.id) ? {\n          ...card,\n          matched: true\n        } : card),\n        players: {\n          ...state.players,\n          [state.currentPlayer]: {\n            ...state.players[state.currentPlayer],\n            score: isMatch ? state.players[state.currentPlayer].score + 10 : state.players[state.currentPlayer].score - 2,\n            matches: isMatch ? state.players[state.currentPlayer].matches + 1 : state.players[state.currentPlayer].matches\n          }\n        },\n        selectedCards: [],\n        currentPlayer: !isMatch && state.gameMode === 'multi' ? state.currentPlayer === 1 ? 2 : 1 : state.currentPlayer\n      };\n    case 'UPDATE_TIMER':\n      return {\n        ...state,\n        timer: state.timer + 1,\n        gameState: state.turnTime <= state.timer ? 'finished' : state.gameState\n      };\n    default:\n      return state;\n  }\n};\nexport const GameProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(gameReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(GameContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(GameProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = GameProvider;\nvar _c;\n$RefreshReg$(_c, \"GameProvider\");","map":{"version":3,"names":["createContext","useReducer","generateCards","jsxDEV","_jsxDEV","initialState","gameState","gameMode","players","id","name","score","matches","currentPlayer","cards","selectedCards","timer","turnTime","highScores","GameContext","gameReducer","state","action","type","payload","mode","length","first","second","isMatch","value","map","card","matched","GameProvider","children","_s","dispatch","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/David Maguire/gaming/src/context/GameContext.js"],"sourcesContent":["import { createContext, useReducer } from 'react';\r\nimport { generateCards } from '../utils/gameUtils';\r\n\r\nconst initialState = {\r\n  gameState: 'idle',\r\n  gameMode: 'single',\r\n  players: {\r\n    1: { id: 1, name: 'Player 1', score: 0, matches: 0 },\r\n    2: { id: 2, name: 'Player 2', score: 0, matches: 0 }\r\n  },\r\n  currentPlayer: 1,\r\n  cards: [],\r\n  selectedCards: [],\r\n  timer: 0,\r\n  turnTime: 30, // 30 segundos por turno\r\n  highScores: []\r\n};\r\n\r\nexport const GameContext = createContext();\r\n\r\nconst gameReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'START_GAME':\r\n      return {\r\n        ...state,\r\n        gameState: 'playing',\r\n        gameMode: action.payload.mode,\r\n        cards: generateCards(),\r\n        timer: 0,\r\n        selectedCards: []\r\n      };\r\n    \r\n    case 'SELECT_CARD':\r\n      if (state.selectedCards.length >= 2) return state;\r\n      return {\r\n        ...state,\r\n        selectedCards: [...state.selectedCards, action.payload]\r\n      };\r\n\r\n    case 'CHECK_MATCH':\r\n      const [first, second] = state.selectedCards;\r\n      const isMatch = first.value === second.value;\r\n      \r\n      return {\r\n        ...state,\r\n        cards: state.cards.map(card => \r\n          (isMatch && (card.id === first.id || card.id === second.id))\r\n            ? { ...card, matched: true }\r\n            : card\r\n        ),\r\n        players: {\r\n          ...state.players,\r\n          [state.currentPlayer]: {\r\n            ...state.players[state.currentPlayer],\r\n            score: isMatch \r\n              ? state.players[state.currentPlayer].score + 10\r\n              : state.players[state.currentPlayer].score - 2,\r\n            matches: isMatch \r\n              ? state.players[state.currentPlayer].matches + 1\r\n              : state.players[state.currentPlayer].matches\r\n          }\r\n        },\r\n        selectedCards: [],\r\n        currentPlayer: !isMatch && state.gameMode === 'multi'\r\n          ? (state.currentPlayer === 1 ? 2 : 1)\r\n          : state.currentPlayer\r\n      };\r\n\r\n    case 'UPDATE_TIMER':\r\n      return {\r\n        ...state,\r\n        timer: state.timer + 1,\r\n        gameState: state.turnTime <= state.timer ? 'finished' : state.gameState\r\n      };\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(gameReducer, initialState);\r\n  \r\n  return (\r\n    <GameContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}