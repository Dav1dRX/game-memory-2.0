{"ast":null,"code":"import{motion}from'framer-motion';import{useContext,useEffect,useState}from'react';import{GameContext}from'../../context/GameContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Card=_ref=>{let{card,isSelected,onSelect}=_ref;const{state}=useContext(GameContext);const{currentPlayer}=state;const[isFlipping,setIsFlipping]=useState(false);// Handle flip animation timing\nuseEffect(()=>{if(!isSelected&&isFlipping){const timer=setTimeout(()=>{setIsFlipping(false);},600);// Reduced from default timing\nreturn()=>clearTimeout(timer);}},[isSelected,isFlipping]);// Update flipping state when selection changes\nuseEffect(()=>{if(isSelected){setIsFlipping(true);}},[isSelected]);const getPlayerStyles=()=>{if(card.matched){return{background:'from-emerald-900/90 to-teal-900/90',border:'border-green-500/50',shadow:'shadow-[0_0_20px_rgba(34,197,94,0.4)]',text:'text-green-400',glow:['0 0 8px #00ff00','0 0 12px #00ff00']};}return currentPlayer===1?{background:'from-cyan-900/90 to-blue-900/90',border:'border-cyan-500/50',shadow:'shadow-[0_0_20px_rgba(6,182,212,0.4)]',text:'text-cyan-400',glow:['0 0 8px #00fff0','0 0 12px #00fff0']}:{background:'from-violet-900/90 to-indigo-900/90',border:'border-purple-500/50',shadow:'shadow-[0_0_20px_rgba(147,51,234,0.4)]',text:'text-purple-400',glow:['0 0 8px #a855f7','0 0 12px #a855f7']};};const styles=getPlayerStyles();return/*#__PURE__*/_jsx(motion.div,{className:\"card-container\",onClick:()=>{if(!card.matched&&!isSelected&&!isFlipping){onSelect();}},whileHover:{scale:1.02},whileTap:{scale:0.98},transition:{duration:0.15},children:/*#__PURE__*/_jsxs(\"div\",{className:`card-inner ${isSelected||card.matched?'flipped':''}`,style:{transition:`transform ${card.matched?'0.3s':'0.2s'} cubic-bezier(0.175, 0.885, 0.32, 1.275)`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-face front\",children:/*#__PURE__*/_jsx(\"div\",{className:`\n            w-full h-full bg-gradient-to-br ${styles.background}\n            border-2 ${styles.border} rounded-xl\n            flex items-center justify-center\n            ${styles.shadow} transition-all duration-150\n            ${!card.matched&&!isSelected?'hover:shadow-lg hover:scale-105':''}\n          `,children:/*#__PURE__*/_jsx(motion.span,{className:`text-5xl font-bold ${styles.text}`,animate:{textShadow:styles.glow},transition:{duration:0.8,repeat:Infinity,repeatType:\"reverse\"},children:\"?\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-face back\",children:/*#__PURE__*/_jsx(motion.div,{className:`\n              w-full h-full rounded-xl flex items-center justify-center\n              ${card.matched?'bg-gradient-to-br from-emerald-900/90 to-teal-900/90 border-2 border-green-400/50':`bg-gradient-to-br ${styles.background} border-2 ${styles.border}`}\n            `,initial:false,animate:{opacity:card.matched?0.5:1,scale:card.matched?0.95:1},transition:{duration:0.2,ease:\"easeOut\"},children:/*#__PURE__*/_jsx(motion.span,{className:`text-5xl font-bold ${card.matched?'text-green-400/70':styles.text}`,initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1,textShadow:styles.glow},transition:{duration:0.2,textShadow:{duration:0.8,repeat:Infinity,repeatType:\"reverse\"}},children:card.value})})})]})});};export default Card;","map":{"version":3,"names":["motion","useContext","useEffect","useState","GameContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","card","isSelected","onSelect","state","currentPlayer","isFlipping","setIsFlipping","timer","setTimeout","clearTimeout","getPlayerStyles","matched","background","border","shadow","text","glow","styles","div","className","onClick","whileHover","scale","whileTap","transition","duration","children","style","span","animate","textShadow","repeat","Infinity","repeatType","initial","opacity","ease","value"],"sources":["C:/Users/David Maguire/gaming/src/components/GameBoard/Card.tsx"],"sourcesContent":["import { motion } from 'framer-motion';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { GameContext } from '../../context/GameContext';\r\nimport { Card as CardType } from '../../types/game';\r\n\r\ninterface CardProps {\r\n  card: CardType;\r\n  isSelected: boolean;\r\n  onSelect: () => void;\r\n}\r\n\r\nexport const Card: React.FC<CardProps> = ({ card, isSelected, onSelect }) => {\r\n  const { state } = useContext(GameContext);\r\n  const { currentPlayer } = state;\r\n  const [isFlipping, setIsFlipping] = useState(false);\r\n\r\n  // Handle flip animation timing\r\n  useEffect(() => {\r\n    if (!isSelected && isFlipping) {\r\n      const timer = setTimeout(() => {\r\n        setIsFlipping(false);\r\n      }, 600); // Reduced from default timing\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [isSelected, isFlipping]);\r\n\r\n  // Update flipping state when selection changes\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      setIsFlipping(true);\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const getPlayerStyles = () => {\r\n    if (card.matched) {\r\n      return {\r\n        background: 'from-emerald-900/90 to-teal-900/90',\r\n        border: 'border-green-500/50',\r\n        shadow: 'shadow-[0_0_20px_rgba(34,197,94,0.4)]',\r\n        text: 'text-green-400',\r\n        glow: ['0 0 8px #00ff00', '0 0 12px #00ff00']\r\n      };\r\n    }\r\n   \r\n    return currentPlayer === 1 ? {\r\n      background: 'from-cyan-900/90 to-blue-900/90',\r\n      border: 'border-cyan-500/50',\r\n      shadow: 'shadow-[0_0_20px_rgba(6,182,212,0.4)]',\r\n      text: 'text-cyan-400',\r\n      glow: ['0 0 8px #00fff0', '0 0 12px #00fff0']\r\n    } : {\r\n      background: 'from-violet-900/90 to-indigo-900/90',\r\n      border: 'border-purple-500/50',\r\n      shadow: 'shadow-[0_0_20px_rgba(147,51,234,0.4)]',\r\n      text: 'text-purple-400',\r\n      glow: ['0 0 8px #a855f7', '0 0 12px #a855f7']\r\n    };\r\n  };\r\n\r\n  const styles = getPlayerStyles();\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"card-container\"\r\n      onClick={() => {\r\n        if (!card.matched && !isSelected && !isFlipping) {\r\n          onSelect();\r\n        }\r\n      }}\r\n      whileHover={{ scale: 1.02 }}\r\n      whileTap={{ scale: 0.98 }}\r\n      transition={{ duration: 0.15 }}\r\n    >\r\n      <div \r\n        className={`card-inner ${isSelected || card.matched ? 'flipped' : ''}`}\r\n        style={{ \r\n          transition: `transform ${card.matched ? '0.3s' : '0.2s'} cubic-bezier(0.175, 0.885, 0.32, 1.275)`\r\n        }}\r\n      >\r\n        {/* Front Face */}\r\n        <div className=\"card-face front\">\r\n          <div className={`\r\n            w-full h-full bg-gradient-to-br ${styles.background}\r\n            border-2 ${styles.border} rounded-xl\r\n            flex items-center justify-center\r\n            ${styles.shadow} transition-all duration-150\r\n            ${!card.matched && !isSelected ? 'hover:shadow-lg hover:scale-105' : ''}\r\n          `}>\r\n            <motion.span\r\n              className={`text-5xl font-bold ${styles.text}`}\r\n              animate={{\r\n                textShadow: styles.glow\r\n              }}\r\n              transition={{\r\n                duration: 0.8,\r\n                repeat: Infinity,\r\n                repeatType: \"reverse\"\r\n              }}\r\n            >\r\n              ?\r\n            </motion.span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Back Face */}\r\n        <div className=\"card-face back\">\r\n          <motion.div\r\n            className={`\r\n              w-full h-full rounded-xl flex items-center justify-center\r\n              ${card.matched\r\n                ? 'bg-gradient-to-br from-emerald-900/90 to-teal-900/90 border-2 border-green-400/50'\r\n                : `bg-gradient-to-br ${styles.background} border-2 ${styles.border}`\r\n              }\r\n            `}\r\n            initial={false}\r\n            animate={{\r\n              opacity: card.matched ? 0.5 : 1,\r\n              scale: card.matched ? 0.95 : 1,\r\n            }}\r\n            transition={{\r\n              duration: 0.2,\r\n              ease: \"easeOut\"\r\n            }}\r\n          >\r\n            <motion.span\r\n              className={`text-5xl font-bold ${card.matched ? 'text-green-400/70' : styles.text}`}\r\n              initial={{ scale: 0.8, opacity: 0 }}\r\n              animate={{ \r\n                scale: 1, \r\n                opacity: 1,\r\n                textShadow: styles.glow\r\n              }}\r\n              transition={{ \r\n                duration: 0.2,\r\n                textShadow: {\r\n                  duration: 0.8,\r\n                  repeat: Infinity,\r\n                  repeatType: \"reverse\"\r\n                }\r\n              }}\r\n            >\r\n              {card.value}\r\n            </motion.span>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Card;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}