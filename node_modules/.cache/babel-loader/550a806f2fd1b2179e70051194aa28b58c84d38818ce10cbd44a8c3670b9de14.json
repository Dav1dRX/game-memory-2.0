{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David Maguire\\\\gaming\\\\src\\\\context\\\\GameContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer } from 'react';\nimport { generateCards } from '../utils/gameUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  isPlaying: false,\n  gameMode: null,\n  // 'single' or 'multi'\n  currentPlayer: 1,\n  players: {\n    1: {\n      name: 'Player 1',\n      score: 0,\n      matches: 0\n    },\n    2: {\n      name: 'Player 2',\n      score: 0,\n      matches: 0\n    }\n  },\n  cards: [],\n  selectedCards: [],\n  turnTimer: 30,\n  timer: 0,\n  highScores: []\n};\nconst GameContext = /*#__PURE__*/createContext();\nexport const useGame = () => {\n  _s();\n  const context = useContext(GameContext);\n  if (!context) {\n    throw new Error('useGame must be used within a GameProvider');\n  }\n  return context;\n};\n_s(useGame, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nconst gameReducer = (state, action) => {\n  switch (action.type) {\n    case 'START_GAME':\n      {\n        const cards = generateCards(16); // 4x4 grid\n        return {\n          ...state,\n          isPlaying: true,\n          gameMode: action.payload.mode,\n          cards,\n          turnTimer: 30,\n          timer: 0,\n          currentPlayer: 1,\n          players: action.payload.mode === 'multi' ? {\n            1: {\n              name: action.payload.player1 || 'Player 1',\n              score: 0,\n              matches: 0\n            },\n            2: {\n              name: action.payload.player2 || 'Player 2',\n              score: 0,\n              matches: 0\n            }\n          } : state.players\n        };\n      }\n    case 'SELECT_CARD':\n      if (state.selectedCards.length >= 2) return state;\n      return {\n        ...state,\n        selectedCards: [...state.selectedCards, action.payload]\n      };\n    case 'CHECK_MATCH':\n      const [first, second] = state.selectedCards;\n      const isMatch = first.value === second.value;\n      const currentPlayerScore = state.players[state.currentPlayer].score;\n      const matchPoints = 10;\n      const missPoints = -2;\n      return {\n        ...state,\n        cards: state.cards.map(card => isMatch && (card.id === first.id || card.id === second.id) ? {\n          ...card,\n          matched: true\n        } : card),\n        players: {\n          ...state.players,\n          [state.currentPlayer]: {\n            ...state.players[state.currentPlayer],\n            score: currentPlayerScore + (isMatch ? matchPoints : missPoints),\n            matches: isMatch ? state.players[state.currentPlayer].matches + 1 : state.players[state.currentPlayer].matches\n          }\n        },\n        currentPlayer: state.gameMode === 'multi' && !isMatch ? state.currentPlayer === 1 ? 2 : 1 : state.currentPlayer,\n        selectedCards: []\n      };\n    case 'UPDATE_TIMER':\n      return {\n        ...state,\n        timer: state.timer + 1,\n        turnTimer: state.turnTimer - 1\n      };\n    case 'END_GAME':\n      const newScore = {\n        playerName: state.gameMode === 'single' ? 'Player 1' : `${state.players[1].name} vs ${state.players[2].name}`,\n        score: state.players[1].score + state.players[2].score,\n        date: new Date().toISOString(),\n        mode: state.gameMode\n      };\n      return {\n        ...state,\n        isPlaying: false,\n        highScores: [...state.highScores, newScore].sort((a, b) => b.score - a.score).slice(0, 10)\n      };\n    default:\n      return state;\n  }\n};\nexport const GameProvider = ({\n  children\n}) => {\n  _s2();\n  const [state, dispatch] = useReducer(gameReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(GameContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n_s2(GameProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = GameProvider;\nvar _c;\n$RefreshReg$(_c, \"GameProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","generateCards","jsxDEV","_jsxDEV","initialState","isPlaying","gameMode","currentPlayer","players","name","score","matches","cards","selectedCards","turnTimer","timer","highScores","GameContext","useGame","_s","context","Error","gameReducer","state","action","type","payload","mode","player1","player2","length","first","second","isMatch","value","currentPlayerScore","matchPoints","missPoints","map","card","id","matched","newScore","playerName","date","Date","toISOString","sort","a","b","slice","GameProvider","children","_s2","dispatch","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/David Maguire/gaming/src/context/GameContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\nimport { generateCards } from '../utils/gameUtils';\r\n\r\nconst initialState = {\r\n  isPlaying: false,\r\n  gameMode: null, // 'single' or 'multi'\r\n  currentPlayer: 1,\r\n  players: {\r\n    1: { name: 'Player 1', score: 0, matches: 0 },\r\n    2: { name: 'Player 2', score: 0, matches: 0 }\r\n  },\r\n  cards: [],\r\n  selectedCards: [],\r\n  turnTimer: 30,\r\n  timer: 0,\r\n  highScores: []\r\n};\r\n\r\nconst GameContext = createContext();\r\n\r\nexport const useGame = () => {\r\n  const context = useContext(GameContext);\r\n  if (!context) {\r\n    throw new Error('useGame must be used within a GameProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nconst gameReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'START_GAME': {\r\n      const cards = generateCards(16); // 4x4 grid\r\n      return {\r\n        ...state,\r\n        isPlaying: true,\r\n        gameMode: action.payload.mode,\r\n        cards,\r\n        turnTimer: 30,\r\n        timer: 0,\r\n        currentPlayer: 1,\r\n        players: action.payload.mode === 'multi' \r\n          ? {\r\n              1: { name: action.payload.player1 || 'Player 1', score: 0, matches: 0 },\r\n              2: { name: action.payload.player2 || 'Player 2', score: 0, matches: 0 }\r\n            }\r\n          : state.players\r\n      };\r\n    }\r\n\r\n    case 'SELECT_CARD':\r\n      if (state.selectedCards.length >= 2) return state;\r\n      \r\n      return {\r\n        ...state,\r\n        selectedCards: [...state.selectedCards, action.payload]\r\n      };\r\n\r\n    case 'CHECK_MATCH':\r\n      const [first, second] = state.selectedCards;\r\n      const isMatch = first.value === second.value;\r\n      const currentPlayerScore = state.players[state.currentPlayer].score;\r\n      const matchPoints = 10;\r\n      const missPoints = -2;\r\n\r\n      return {\r\n        ...state,\r\n        cards: state.cards.map(card => \r\n          isMatch && (card.id === first.id || card.id === second.id)\r\n            ? { ...card, matched: true }\r\n            : card\r\n        ),\r\n        players: {\r\n          ...state.players,\r\n          [state.currentPlayer]: {\r\n            ...state.players[state.currentPlayer],\r\n            score: currentPlayerScore + (isMatch ? matchPoints : missPoints),\r\n            matches: isMatch \r\n              ? state.players[state.currentPlayer].matches + 1 \r\n              : state.players[state.currentPlayer].matches\r\n          }\r\n        },\r\n        currentPlayer: state.gameMode === 'multi' && !isMatch\r\n          ? (state.currentPlayer === 1 ? 2 : 1)\r\n          : state.currentPlayer,\r\n        selectedCards: []\r\n      };\r\n\r\n    case 'UPDATE_TIMER':\r\n      return {\r\n        ...state,\r\n        timer: state.timer + 1,\r\n        turnTimer: state.turnTimer - 1\r\n      };\r\n\r\n    case 'END_GAME':\r\n      const newScore = {\r\n        playerName: state.gameMode === 'single' \r\n          ? 'Player 1' \r\n          : `${state.players[1].name} vs ${state.players[2].name}`,\r\n        score: state.players[1].score + state.players[2].score,\r\n        date: new Date().toISOString(),\r\n        mode: state.gameMode\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        isPlaying: false,\r\n        highScores: [...state.highScores, newScore]\r\n          .sort((a, b) => b.score - a.score)\r\n          .slice(0, 10)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(gameReducer, initialState);\r\n  return (\r\n    <GameContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}