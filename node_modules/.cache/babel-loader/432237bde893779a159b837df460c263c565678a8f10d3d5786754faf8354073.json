{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useGame.js - Handle card matching logic\nimport { useContext, useEffect } from 'react';\nimport { GameContext } from '../context/GameContext';\nexport const useGame = () => {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useContext(GameContext);\n\n  // Add initialization of scores from localStorage\n  useEffect(() => {\n    const savedScores = localStorage.getItem('memory-game-scores');\n    if (savedScores) {\n      dispatch({\n        type: 'LOAD_SCORES',\n        payload: JSON.parse(savedScores)\n      });\n    }\n  }, []);\n\n  // Handle card matching logic\n  useEffect(() => {\n    if (state.selectedCards.length === 2) {\n      const timeoutId = setTimeout(() => {\n        dispatch({\n          type: 'CHECK_MATCH'\n        });\n      }, 1000);\n      return () => clearTimeout(timeoutId);\n    }\n  }, [state.selectedCards, dispatch]);\n\n  // Handle game end\n  useEffect(() => {\n    const allMatched = state.cards.every(card => card.matched);\n    if (allMatched && state.cards.length > 0) {\n      dispatch({\n        type: 'END_GAME'\n      });\n    }\n  }, [state.cards, dispatch]);\n  const handleCardClick = card => {\n    if (card.matched || state.selectedCards.length >= 2) return;\n    dispatch({\n      type: 'SELECT_CARD',\n      payload: card\n    });\n  };\n  return {\n    state,\n    dispatch,\n    handleCardClick\n  };\n};\n_s(useGame, \"cx+ya7KyHNzq3wJDfGkFmEmXLLE=\");","map":{"version":3,"names":["useContext","useEffect","GameContext","useGame","_s","state","dispatch","savedScores","localStorage","getItem","type","payload","JSON","parse","selectedCards","length","timeoutId","setTimeout","clearTimeout","allMatched","cards","every","card","matched","handleCardClick"],"sources":["C:/Users/David Maguire/gaming/src/hooks/useGame.js"],"sourcesContent":["// src/hooks/useGame.js - Handle card matching logic\r\nimport { useContext, useEffect } from 'react';\r\nimport { GameContext } from '../context/GameContext';\r\n\r\nexport const useGame = () => {\r\n  const { state, dispatch } = useContext(GameContext);\r\n\r\n  // Add initialization of scores from localStorage\r\n  useEffect(() => {\r\n    const savedScores = localStorage.getItem('memory-game-scores');\r\n    if (savedScores) {\r\n      dispatch({ \r\n        type: 'LOAD_SCORES', \r\n        payload: JSON.parse(savedScores)\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // Handle card matching logic\r\n  useEffect(() => {\r\n    if (state.selectedCards.length === 2) {\r\n      const timeoutId = setTimeout(() => {\r\n        dispatch({ type: 'CHECK_MATCH' });\r\n      }, 1000);\r\n      \r\n      return () => clearTimeout(timeoutId);\r\n    }\r\n  }, [state.selectedCards, dispatch]);\r\n\r\n  // Handle game end\r\n  useEffect(() => {\r\n    const allMatched = state.cards.every(card => card.matched);\r\n    if (allMatched && state.cards.length > 0) {\r\n      dispatch({ type: 'END_GAME' });\r\n    }\r\n  }, [state.cards, dispatch]);\r\n\r\n  const handleCardClick = (card) => {\r\n    if (card.matched || state.selectedCards.length >= 2) return;\r\n    dispatch({ type: 'SELECT_CARD', payload: card });\r\n  };\r\n\r\n  return { state, dispatch, handleCardClick };\r\n};"],"mappings":";AAAA;AACA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,SAASC,WAAW,QAAQ,wBAAwB;AAEpD,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM;IAAEC,KAAK;IAAEC;EAAS,CAAC,GAAGN,UAAU,CAACE,WAAW,CAAC;;EAEnD;EACAD,SAAS,CAAC,MAAM;IACd,MAAMM,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAAC;IAC9D,IAAIF,WAAW,EAAE;MACfD,QAAQ,CAAC;QACPI,IAAI,EAAE,aAAa;QACnBC,OAAO,EAAEC,IAAI,CAACC,KAAK,CAACN,WAAW;MACjC,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAN,SAAS,CAAC,MAAM;IACd,IAAII,KAAK,CAACS,aAAa,CAACC,MAAM,KAAK,CAAC,EAAE;MACpC,MAAMC,SAAS,GAAGC,UAAU,CAAC,MAAM;QACjCX,QAAQ,CAAC;UAAEI,IAAI,EAAE;QAAc,CAAC,CAAC;MACnC,CAAC,EAAE,IAAI,CAAC;MAER,OAAO,MAAMQ,YAAY,CAACF,SAAS,CAAC;IACtC;EACF,CAAC,EAAE,CAACX,KAAK,CAACS,aAAa,EAAER,QAAQ,CAAC,CAAC;;EAEnC;EACAL,SAAS,CAAC,MAAM;IACd,MAAMkB,UAAU,GAAGd,KAAK,CAACe,KAAK,CAACC,KAAK,CAACC,IAAI,IAAIA,IAAI,CAACC,OAAO,CAAC;IAC1D,IAAIJ,UAAU,IAAId,KAAK,CAACe,KAAK,CAACL,MAAM,GAAG,CAAC,EAAE;MACxCT,QAAQ,CAAC;QAAEI,IAAI,EAAE;MAAW,CAAC,CAAC;IAChC;EACF,CAAC,EAAE,CAACL,KAAK,CAACe,KAAK,EAAEd,QAAQ,CAAC,CAAC;EAE3B,MAAMkB,eAAe,GAAIF,IAAI,IAAK;IAChC,IAAIA,IAAI,CAACC,OAAO,IAAIlB,KAAK,CAACS,aAAa,CAACC,MAAM,IAAI,CAAC,EAAE;IACrDT,QAAQ,CAAC;MAAEI,IAAI,EAAE,aAAa;MAAEC,OAAO,EAAEW;IAAK,CAAC,CAAC;EAClD,CAAC;EAED,OAAO;IAAEjB,KAAK;IAAEC,QAAQ;IAAEkB;EAAgB,CAAC;AAC7C,CAAC;AAACpB,EAAA,CAvCWD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}